function newPlanet(){var a=document.createElement("div"),b=document.createAttribute("class");b.value="planets tam-"+Math.floor(3*Math.random()+1)+" planet-"+Math.floor(5*Math.random()+1),a.setAttributeNode(b);var c=Math.floor(Math.random()*$(window).width());200>c?c=200:c>$(window).width()-200&&(c=$(window).width()-200),$(a).css("margin-left",c),$("#container").append(a),movimentoPlanet(a)}function movimentoPlanet(a){$(a).animate({"margin-top":$(window).height()},{duration:duracao,easing:"linear",complete:function(){$(a).remove()},progress:function(){colisao(a)}})}function colisao(a){var b=Math.round($(a).offset().left),c=Math.round($(a).offset().top),d=parseInt($(a).css("height")),e=$(".nave").offset().left,f=$(".nave").offset().top;e>=b+20&&b+(d-20)>=e&&f>=c+20&&c+(d-20)>=f&&(stopGame(),gameOver())}function stopGame(){$(".planets").remove(),clearTimeout(play),play=!1,$("#container").removeClass("bg-animation")}function gameOver(){$(".mensagem h2").html("Voc\xea perdeu :("),$(".mensagem h3").html("Sua pontua\xe7\xe3o: "+pontos);var a=parseInt($(".mensagem").css("width"))/2,b=parseInt($(".mensagem").css("hright"))/2;$(".mensagem").css("margin-left",-a),$(".mensagem").css("margin-top",-b),$(".mensagem").fadeIn(400)}function getLeft(){var a=nave.style.marginLeft;return parseInt(a.replace(/[^0-9]/g,""))}function getBottom(){var a=nave.style.bottom;return parseInt(a.replace(/[^0-9]/g,""))}var nave=document.createElement("div"),classe=document.createAttribute("class");classe.value="nave",nave.setAttributeNode(classe),$(nave).css("bottom","20px"),$(nave).css("left",$(window).width()/2-20+"px"),$(nave).css("background-image","url(images/nave.svg)"),$("#container").append(nave);var velocidade=2e3,duracao=5e3,pontos=0,estagio=1,naveBg=!0;setInterval(function(){1==naveBg?($(nave).css("background-image","url(images/nave_2.svg)"),naveBg=!1):($(nave).css("background-image","url(images/nave.svg)"),naveBg=!0)},500);var time=function(){0!=play&&(pontos+=10,pontos>100*estagio&&(estagio++,velocidade-=velocidade>1e3?100:velocidade>100?10:1,duracao-=duracao>1e3?100:duracao>100?10:1),$(".pontos").html(pontos),$(".estagio").html(estagio),$(".velocidade").html(velocidade),$(".duracao").html(duracao),newPlanet(),setTimeout(time,velocidade))},play=setTimeout(time(),velocidade);$(document).on("keypress",function(a){a.preventDefault(),119==a.keyCode&&(nave.style.bottom=getBottom()+15+"px"),115==a.keyCode&&(nave.style.bottom=getBottom()-15+"px"),97==a.keyCode&&$(".nave").offset().left>=0&&$(".nave").css("left",$(".nave").offset().left-15+"px"),100==a.keyCode&&$(".nave").offset().left<=$(window).width()-40&&$(".nave").css("left",$(".nave").offset().left+15+"px"),32==a.keyCode&&window.location.reload()});